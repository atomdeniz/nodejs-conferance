<!DOCTYPE html>
<html lang="tr" style="overflow-x:auto !important">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="author" content="Opthema Teknoloji">
    <title>TAS - Interview</title>
    <link rel="icon" type="image/png" href="/assets/images/tas-logo-shortcut.png" />
    <link rel="shortcut icon" href="/assets/images/tas-logo-shortcut.png">
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/core.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/components.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/pages.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/menu.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/responsive.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/jquery-ui.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/jquery.ui.theme.css" rel="stylesheet" type="text/css">
    <link href="/assets/fonts/latofonts.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/theme.custom.css" rel="stylesheet" type="text/css">
</head>

<body>
    <!-- Begin page -->
    <div id="wrapper">

        <!-- Top Bar Start -->
        <div class="topbar">
            <!-- LOGO -->
            <div class="topbar-left">
                <div style="width: 350px;">
                    <a class="logo" style="cursor: pointer;" href="#">
                        <i>
                            <img src="/assets/images/logo_light.png" style="height: 60px;"> </i> TAS Interview</a>
                    <i class="button-menu-mobile open-left fa fa-bars  headerLeftButton" id="headerBarLeftButton"></i>
                </div>
            </div>
            <!-- Button mobile view to collapse sidebar menu -->
            <div class="navbar navbar-default" role="navigation">
                <div class="container">
                    <div class="" style="padding-right:10px;">
                        <ul class="nav navbar-nav navbar-right pull-right">
                            <li class="hidden-xs">
                                <a href="#" id="btn-fullscreen" class="waves-effect waves-light">
                                    <i class="md md-crop-free"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <!--/.nav-collapse -->
                </div>
            </div>
        </div>
        <!-- Top Bar End -->
        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="content-page">
            <!-- Start content -->
            <div class="content">
                <div class="container">
                    <!-- Page-Title -->
                    <div class="row">
                        <div class="col-sm-12">
                            <h4 class="pull-left page-title">Sistem Kontrolü</h4>
                        </div>
                    </div>
                    <!-- Start Widget -->
                    <!--Widget-4 -->
                    <div class="row ">
                        <div class="col-lg-8 col-lg-offset-1  col-md-8 col-md-offset-1">
                            <div class="col-lg-6 ">
                                <div class="mini-stat clearfix bx-shadow bg-white" id="controlLabelOS">
                                    <span class="mini-stat-icon bg-wait colorOk">
                                        <i class="mainIcon ion-ios7-speedometer"></i>
                                    </span>
                                    <div class="mini-stat-info text-right text-dark">
                                        <span class="counter text-dark">
                                            <i class="controlIcon fa ion-load-a"></i>
                                        </span>
                                        <h5 class="isOk">Bekleniyor</h5>
                                    </div>
                                    <div class="tiles-progress">
                                        <div class="m-t-20">
                                            <h5 class="text-uppercase">İşletim Sistemi
                                                <span class="pull-right controlName hidden-md"></span>
                                            </h5>
                                            <div class="progress progress-sm m-0">
                                                <div class="progress-bar bg-wait colorOk" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 ">
                                <div class="mini-stat clearfix bx-shadow bg-white" id="controlLabelApp">
                                    <span class="mini-stat-icon bg-wait colorOk">
                                        <i class="mainIcon fa  fa-play"></i>
                                    </span>
                                    <div class="mini-stat-info text-right text-dark">
                                        <span class="counter text-dark">
                                            <i class="controlIcon fa ion-load-a"></i>
                                        </span>
                                        <h5 class="isOk">Bekleniyor</h5>
                                    </div>
                                    <div class="tiles-progress">
                                        <div class="m-t-20">
                                            <h5 class="text-uppercase">Uygulama destekleniyor mu?
                                                <span class="pull-right controlName"></span>
                                            </h5>
                                            <div class="progress progress-sm m-0">
                                                <div class="progress-bar bg-wait colorOk" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="mini-stat clearfix bx-shadow bg-white" id="controlLabelWebCam">
                                    <span class="mini-stat-icon bg-wait colorOk">
                                        <i class="mainIcon fa  fa-video-camera"></i>
                                    </span>
                                    <div class="mini-stat-info text-right text-dark">
                                        <span class="counter text-dark">
                                            <i class="controlIcon fa ion-load-a"></i>
                                        </span>
                                        <h5 class="isOk">Bekleniyor</h5>
                                    </div>
                                    <div class="tiles-progress">
                                        <div class="m-t-20">
                                            <h5 class="text-uppercase">Web Cam
                                                <span class="pull-right controlName"></span>
                                            </h5>
                                            <div class="progress progress-sm m-0">
                                                <div class="progress-bar bg-wait colorOk" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 ">
                                <div class="mini-stat clearfix bx-shadow bg-white" id="controlLabelCamPermission">
                                    <span class="mini-stat-icon bg-wait colorOk">
                                        <i class="mainIcon fa fa-video-camera"></i>
                                    </span>
                                    <div class="mini-stat-info text-right text-dark">
                                        <span class="counter text-dark">
                                            <i class="controlIcon fa ion-load-a"></i>
                                        </span>
                                        <h5 class="isOk">Bekleniyor</h5>
                                    </div>
                                    <div class="tiles-progress">
                                        <div class="m-t-20">
                                            <h5 class="text-uppercase">Web cam erişim izni
                                                <span class="pull-right controlName"></span>
                                            </h5>
                                            <div class="progress progress-sm m-0">
                                                <div class="progress-bar bg-wait colorOk" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 ">
                                <div class="mini-stat clearfix bx-shadow bg-white" id="controlLabelMic">
                                    <span class="mini-stat-icon bg-wait colorOk">
                                        <i class="mainIcon ion-mic-a"></i>
                                    </span>
                                    <div class="mini-stat-info text-right text-dark">
                                        <span class="counter text-dark">
                                            <i class="controlIcon fa ion-load-a"></i>
                                        </span>
                                        <h5 class="isOk">Bekleniyor</h5>
                                    </div>
                                    <div class="tiles-progress">
                                        <div class="m-t-20">
                                            <h5 class="text-uppercase">Mikrofon
                                                <span class="pull-right controlName"></span>
                                            </h5>
                                            <div class="progress progress-sm m-0">
                                                <div class="progress-bar bg-wait colorOk" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 ">
                                <div class="mini-stat clearfix bx-shadow bg-white" id="controlLabelMicPermission">
                                    <span class="mini-stat-icon bg-wait colorOk">
                                        <i class="mainIcon ion-mic-a"></i>
                                    </span>
                                    <div class="mini-stat-info text-right text-dark">
                                        <span class="counter text-dark">
                                            <i class="controlIcon fa ion-load-a"></i>
                                        </span>
                                        <h5 class="isOk">Bekleniyor</h5>
                                    </div>
                                    <div class="tiles-progress">
                                        <div class="m-t-20">
                                            <h5 class="text-uppercase">Mikrofon erişim izni
                                                <span class="pull-right controlName"></span>
                                            </h5>
                                            <div class="progress progress-sm m-0">
                                                <div class="progress-bar bg-wait colorOk" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12 ">
                                <div class="mini-stat clearfix bx-shadow bg-white " id="">

                                    <div class="tiles-progress">
                                        <div class="m-t-0">
                                            <div class="col-md-8">
                                                <h4 class="">Bu kontrol bağlantınızın mülakat uygulaması için uygun olup olmadğını kontrol
                                                    etmektedir.</h4>
                                                <h5 class="" id="hResult">asdsad</h5>
                                            </div>
                                            <div class="col-md-4">
                                                <button class="btn btn-primary btn-lg pull-right" id="btnJoin">
                                                    Mülakata Katıl
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End row-->
                        <div class="row">
                        </div>
                    </div>
                </div>
                <!-- end col -->
            </div>
            <!-- end row -->
        </div>
    </div>
    <script>
        var resizefunc = [];
    </script>
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <script src="/assets/js/rtc/DetectRTC.js">
    </script>
    <script src="/assets/js/rtc/screenshot.js"></script>
    <script src="/assets/js/rtc/gumadapter.js"></script>
    <!-- jQuery  -->
    <script src="/assets/js/jquery-2.2.4.min.js"></script>
    <script src="/assets/js/plugin.js"></script>
    <script src="/assets/js/exam.js"></script>
    <script src="/assets/js/jquery-ui.min.js"></script>
    <script src="/assets/js/dockmodal.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/detect.js"></script>
    <script src="/assets/js/fastclick.js"></script>
    <script src="/assets/js/jquery.slimscroll.js"></script>
    <script src="/assets/js/jquery.blockUI.js"></script>
    <script src="/assets/js/waves.js"></script>
    <script src="/assets/js/wow.min.js"></script>
    <script src="/assets/js/jquery.nicescroll.js"></script>
    <script src="/assets/js/jquery.scrollTo.min.js"></script>
    <script src="/assets/js/jquery.app.js"></script>
    <script src="/assets/js/moment.js"></script>
    <script src="/assets/js/rtc/api.js"></script>
    <script>
        var checkResult = true;
        var qString = "";
        $(function () {

            $("#btnJoin").on("click", function (e) {
                e.preventDefault();
                if (checkResult == true) {
                    $("#btnJoin").prop('disabled', true);
                    console.log('clicked');
                    join();
                }

            })

            qString = window.location.search;
            DetectRTC.load(function () {
                reloadDetectRTC();
                if (DetectRTC.MediaDevices[0] && DetectRTC.MediaDevices[0].label ===
                    "Please invoke getUserMedia once.") {
                    navigator.mediaDevices.getUserMedia({
                        audio: true,
                        video: true
                    }).then(reloadDetectRTC).catch(reloadDetectRTC);
                    return;
                }
                onDetectRTCLoaded();
            });
            //controlLabelMicPermission
            //controlLabelCamPermission
        });

        function reloadDetectRTC() {
            DetectRTC.load(onDetectRTCLoaded);
        }

        function join() {
            location.href = "/conferance" + qString;
        }

        function onDetectRTCLoaded() {
            checkResult = true;
            writeCheck($("#controlLabelOS"), true, DetectRTC.osName.replace("i", "ı") + " " + DetectRTC.osVersion +
                " - " + DetectRTC.browser.name.replace("i", "ı") + " (" + DetectRTC.browser.version + ")");
            writeCheck($("#controlLabelWebCam"), DetectRTC.hasWebcam, DetectRTC.videoInputDevices.length +
                " adet aygıt bulundu");
            writeCheck($("#controlLabelMic"), DetectRTC.hasMicrophone, DetectRTC.audioInputDevices.length +
                " adet aygıt bulundu");
            var validApp = false;
            var dd = DetectRTC.isGetUserMediaSupported;
            var d = DetectRTC.isWebRTCSupported;
            if (dd && d) {
                validApp = true;
            }
            writeCheck($("#controlLabelApp"), validApp, "");
            var camString = "Verildi";
            if (!DetectRTC.isWebsiteHasWebcamPermissions) {
                camString = "Verilmedi"
            }
            writeCheck($("#controlLabelCamPermission"), DetectRTC.isWebsiteHasWebcamPermissions, camString);
            var micString = "Verildi";
            if (!DetectRTC.isWebsiteHasMicrophonePermissions) {
                micString = "Verilmedi";
            }
            writeCheck($("#controlLabelMicPermission"), DetectRTC.isWebsiteHasMicrophonePermissions, micString);
            //DetectRTC.isGetUserMediaSupported;
            var resultText = $("#hResult");
            if (checkResult) {
                resultText.addClass("text-success");
                resultText.text("Mülakat uygulamasına giriş yapabilirsiniz.");
                $("#btnJoin").removeAttr("disabled");
            } else {
                resultText.addClass("text-danger");
                $("#btnJoin").attr("disabled", "disabled");
                resultText.text(
                    " ! Bağlantınız mülakat uygulamasını desteklememekte veya video ve mikrofon paylaşımına izin verdiğinizden emin olunuz. Lütfen chrome veya firefox tarayıcılarının son versiyonunu kullanınız."
                );
            }
        }

        function writeCheck(contentObj, isOk, name, description, mIcon) {
            if (isOk) {
                var $contentObj = contentObj;
                var o = $contentObj.find(".isOk");
                $(o[0]).text("Uygun");
                var o2 = $contentObj.find(".controlIcon");
                var oColor = $contentObj.find(".colorOk");
                //console.log(oColor);
                oColor.css("background-color", "#33b86c");
                var oo = $(o2[0]).removeClass("ion-load-a").removeClass("fa-remove").addClass("fa-check");

                var oN = $contentObj.find(".controlName");
                $(oN[0]).text(name);
                if (checkResult) {
                    if (isOk) {
                        checkResult = true;
                    } else {
                        checkResult = false;
                    }
                }
            } else {
                var $contentObj = contentObj;
                var o = $contentObj.find(".isOk");
                $(o[0]).text("Uygun değil");
                var o2 = $contentObj.find(".controlIcon");
                var oColor = $contentObj.find(".colorOk");
                oColor.css("background-color", "#ef5350");
                var oo = $(o2[0]).removeClass("ion-load-a").addClass("fa-remove");

                var oN = $contentObj.find(".controlName");
                $(oN[0]).text(name);
                if (checkResult) {
                    if (isOk) {
                        checkResult = true;
                    } else {
                        checkResult = false;
                    }
                }
            }
        }
    </script>
</body>

</html>